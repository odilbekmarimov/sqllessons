# Типы данных в Microsoft SQL Server

Этот документ содержит список всех основных типов данных в Microsoft SQL Server с описанием, примерами и рекомендациями по использованию.

---

## **Числовые типы данных**

| Тип данных | Описание | Пример значения | Когда использовать |
|-------------|-----------|------------------|--------------------|
| `bit` | Логическое значение (0 или 1) | `1` | Для хранения булевых значений (Да/Нет) |
| `tinyint` | Целое число от 0 до 255 | `120` | Когда значения всегда положительные и малы |
| `smallint` | Целое число от -32,768 до 32,767 | `-1500` | Когда значения ограничены небольшим диапазоном |
| `int` | Целое число от -2,147,483,648 до 2,147,483,647 | `25000` | Наиболее часто используемый тип для целых чисел |
| `bigint` | Целое число большого диапазона | `9223372036854775807` | Когда значения могут быть очень большими (например, идентификаторы) |
| `decimal(p,s)` / `numeric(p,s)` | Точное число с фиксированной точностью | `12345.67` | Для финансовых расчетов, где нужна точность |
| `money` | Денежное значение с 4 знаками после запятой | `9999.9999` | Для валютных значений, но менее гибкий чем `decimal` |
| `smallmoney` | Денежное значение меньшего диапазона | `250.50` | Когда суммы небольшие |
| `float` | Число с плавающей точкой (приближённое) | `3.14159` | Для научных и инженерных вычислений |
| `real` | Менее точная версия `float` | `1.23` | Когда точность не критична |

---

## **Типы даты и времени**

| Тип данных | Описание | Пример значения | Когда использовать |
|-------------|-----------|------------------|--------------------|
| `date` | Только дата | `2025-10-31` | Когда не нужна информация о времени |
| `time(n)` | Только время | `13:45:30.1234567` | Когда не требуется дата |
| `datetime` | Дата и время с точностью до 3 мс | `2025-10-31 13:45:00` | Для старых систем (устаревший тип) |
| `smalldatetime` | Дата и время с точностью до минуты | `2025-10-31 13:45` | Когда секунды не важны |
| `datetime2(n)` | Более точный вариант `datetime` | `2025-10-31 13:45:30.1234567` | Современный стандартный тип для даты и времени |
| `datetimeoffset(n)` | `datetime2` + смещение по часовому поясу | `2025-10-31 13:45:00 +05:00` | Когда нужно хранить часовой пояс |
| `timestamp` / `rowversion` | Уникальное значение, обновляется при изменении строки | `0x00000000000007D3` | Для контроля версий записей |

---

## **Символьные и строковые типы данных**

| Тип данных | Описание | Пример значения | Когда использовать |
|-------------|-----------|------------------|--------------------|
| `char(n)` | Фиксированная длина (n символов) | `'UZB'`,`'RUS'`,`'ENG'` | Когда все значения одинаковой длины |
| `varchar(n)` | Переменная длина до `n` символов | `'Tashkent'` | Наиболее часто используемый тип строк |
| `varchar(MAX)` | Переменная длина до 2 ГБ | `'Большой текст ...'` | Для хранения длинных текстов |
| `nchar(n)` | Фиксированная длина (Unicode) | `N'УЗБ'` | Для фиксированных Unicode строк |
| `nvarchar(n)` | Переменная длина (Unicode) | `N'Ташкент'` | Для хранения текстов на разных языках |
| `nvarchar(MAX)` | Unicode текст до 2 ГБ | `N'Длинное описание...'` | Для описаний, JSON и XML |
| `text` *(устарел)* | Старый тип для длинных текстов | `'Long text'` | Не использовать — заменён на `varchar(MAX)` |
| `ntext` *(устарел)* | Старый Unicode текст | `N'Unicode text'` | Не использовать — заменён на `nvarchar(MAX)` |

---

## **Двоичные типы данных**

| Тип данных | Описание | Пример значения | Когда использовать |
|-------------|-----------|------------------|--------------------|
| `binary(n)` | Фиксированная длина в байтах | `0x4F12A3` | Для хранения бинарных данных фиксированного размера |
| `varbinary(n)` | Переменная длина до `n` байт | `0xAABBCC` | Для хранения файлов или изображений |
| `varbinary(MAX)` | До 2 ГБ бинарных данных | `0xFFD8FFE0...` | Для изображений, документов, PDF и т.д. |
| `image` *(устарел)* | Старый тип для изображений | — | Не использовать, заменён на `varbinary(MAX)` |

---

## **Пространственные и специальные типы**

| Тип данных | Описание | Пример значения | Когда использовать |
|-------------|-----------|------------------|--------------------|
| `uniqueidentifier` | GUID (глобально уникальный идентификатор) | `550e8400-e29b-41d4-a716-446655440000` | Для уникальных ключей вместо `INT IDENTITY` |
| `sql_variant` | Хранит разные типы данных в одной колонке | `'Text'`, `123`, `2025-10-31` | Для гибких таблиц, редко используется |
| `xml` | XML-данные | `<root><city>Tashkent</city></root>` | Для хранения структурированных XML данных |
| `geography` | Географические данные (долгота/широта) | `POINT(69.2401 41.2995)` | Для картографических приложений |
| `geometry` | Геометрические данные (плоские фигуры) | `LINESTRING(1 1, 2 2, 3 3)` | Для геометрических вычислений |
| `hierarchyid` | Иерархические данные (деревья, каталоги) | `/1/3/2/` | Для структур вроде категорий, меню |

---

## **Полезные советы**

- Используйте `INT IDENTITY(1,1)` для автоинкрементных первичных ключей.  
- Для международных текстов всегда применяйте `NVARCHAR`.  
- Избегайте устаревших типов: `text`, `ntext`, `image`.  
- Для даты и времени используйте `DATETIME2` вместо `DATETIME`.  
- Для больших файлов используйте `VARBINARY(MAX)` или храните файлы в `Azure Blob` и сохраняйте путь.  

---

 **Пример таблицы с разными типами:**
```sql
CREATE TABLE ExampleData (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    FullName NVARCHAR(100),
    BirthDate DATE,
    Salary DECIMAL(10,2),
    ProfileImage VARBINARY(MAX),
    IsActive BIT,
    CreatedAt DATETIME2 DEFAULT SYSDATETIME(),
    UniqueCode UNIQUEIDENTIFIER DEFAULT NEWID()
);
```
